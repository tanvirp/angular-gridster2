!function(){"use strict";angular.module("angular-gridster2",[])}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterUtils",function(){function e(t,i,r){for(var s in i)i.hasOwnProperty(s)&&r.hasOwnProperty(s)&&("object"==typeof i[s]?t[s]=e(t[s],i[s],r[s]):t[s]=i[s]);return t}function t(e,i,r){return e!==i&&(!(!e.classList||!e.classList.contains(r))||t(e.parentNode,i,r))}return{merge:e,debounce:function(e,t){var i;return function(){var r=this,s=arguments;clearTimeout(i),i=setTimeout(function(){i=null,e.apply(r,s)},t)}},checkTouchEvent:function(e){void 0===e.clientX&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))},checkContentClassForEvent:function(e,i){if(e.$options.draggable.ignoreContent){if(!t(i.target,i.currentTarget,e.$options.draggable.dragHandleClass))return!0}else if(t(i.target,i.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterSwap",function(){return function(e){var t=this;return t.swapedItem=void 0,t.gridsterItem=e,t.gridster=e.gridster,t.destroy=function(){delete t.gridster,delete t.gridsterItem,delete t.swapedItem},t.swapItems=function(){t.gridster.$options.swap&&(t.checkSwapBack(),t.checkSwap(t.gridsterItem))},t.checkSwapBack=function(){if(t.swapedItem){var e=t.swapedItem.$item.x,i=t.swapedItem.$item.y;t.swapedItem.$item.x=t.swapedItem.item.x,t.swapedItem.$item.y=t.swapedItem.item.y,t.gridster.checkCollision(t.swapedItem.$item)?(t.swapedItem.$item.x=e,t.swapedItem.$item.y=i):(t.swapedItem.setSize(!0),t.gridsterItem.$item.x=t.gridsterItem.item.x,t.gridsterItem.$item.y=t.gridsterItem.item.y,t.swapedItem=void 0)}},t.restoreSwapItem=function(){t.swapedItem&&(t.swapedItem.$item.x=t.swapedItem.item.x,t.swapedItem.$item.y=t.swapedItem.item.y,t.swapedItem.setSize(!0),t.swapedItem=void 0)},t.setSwapItem=function(){t.swapedItem&&(t.swapedItem.checkItemChanges(t.swapedItem.$item,t.swapedItem.item),t.swapedItem=void 0)},t.checkSwap=function(e){var i=t.gridster.checkCollision(e.$item);if(i&&!0!==i&&i.canBeDragged()){var r=i,s=r.$item.x,o=r.$item.y,n=e.$item.x,d=e.$item.y;r.$item.x=e.item.x,r.$item.y=e.item.y,e.$item.x=r.item.x,e.$item.y=r.item.y,t.gridster.checkCollision(r.$item)||t.gridster.checkCollision(e.$item)?(e.$item.x=n,e.$item.y=d,r.$item.x=s,r.$item.y=o):(r.setSize(!0),t.swapedItem=r)}},t}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterScroll",function(){function e(e,$,I,y,w,C){m=e.gridster.$options.scrollSensitivity,a=e.gridster.$options.scrollSpeed,c=e.gridster.el,u=w,g=C;var x=c.offsetWidth,b=c.offsetHeight,k=c.scrollLeft,E=c.scrollTop,z=e.nativeEl.offsetTop-E,P=b+E-e.nativeEl.offsetTop-e.nativeEl.offsetHeight;if(I.clientY<$.clientY&&P<m){if(l(),u&&g&&!g.s||v)return;v=t(1,y,I)}else if(I.clientY>$.clientY&&E>0&&z<m){if(d(),u&&g&&!g.n||f)return;f=t(-1,y,I)}else I.clientY!==$.clientY&&s();var T=k+x-e.nativeEl.offsetLeft-e.nativeEl.offsetWidth,S=e.nativeEl.offsetLeft-k;if(I.clientX<$.clientX&&T<=m){if(n(),u&&g&&!g.e||p)return;p=i(1,y,I)}else if(I.clientX>$.clientX&&k>0&&S<m){if(o(),u&&g&&!g.w||h)return;h=i(-1,y,I)}else I.clientX!==$.clientX&&r();return this}function t(e,t,i){var r=i.clientY;return setInterval(function(){(!c||-1===e&&c.scrollTop-a<0)&&s(),c.scrollTop+=e*a,r+=e*a,t({clientX:i.clientX,clientY:r})},$)}function i(e,t,i){var s=i.clientX;return setInterval(function(){(!c||-1===e&&c.scrollLeft-a<0)&&r(),c.scrollLeft+=e*a,t({clientX:s+=e*a,clientY:i.clientY})},$)}function r(){o(),n()}function s(){l(),d()}function o(){p&&(clearInterval(p),p=void 0)}function n(){h&&(clearInterval(h),h=void 0)}function d(){v&&(clearInterval(v),v=void 0)}function l(){f&&(clearInterval(f),f=void 0)}var m,a,c,u,g,p,h,f,v,$=50;return e.cancelScroll=function(){r(),s(),m=void 0,a=void 0,c=void 0,g=void 0},e})}(),function(){"use strict";function e(e,t,i,r){return function(s,o){var n=this;n.directionFunction=angular.noop,n.dragStartFunction=angular.noop,n.dragFunction=angular.noop,n.dragStopFunction=angular.noop,n.resizeEnabled=!1,n.push=void 0,n.pushResize=void 0,n.minHeight=0,n.minWidth=0,n.offsetTop=0,n.offsetLeft=0,n.diffTop=0,n.diffLeft=0,n.diffRight=0,n.diffBottom=0,n.margin=0,n.top=0,n.left=0,n.bottom=0,n.right=0,n.width=0,n.height=0,n.newPosition=0,n.gridsterItem=s,n.gridster=o,n.lastMouse={clientX:0,clientY:0},n.itemBackup=[0,0,0,0],n.resizeEventScrollType={w:!1,e:!1,n:!1,s:!1},n.destroy=function(){delete n.gridster,delete n.gridsterItem},n.dragStart=function(t){switch(t.which){case 1:break;case 2:case 3:return}n.gridster.$options.resizable.start&&n.gridster.$options.resizable.start(n.gridsterItem.item,n.gridsterItem,t),t.stopPropagation(),t.preventDefault(),n.dragFunction=n.dragMove.bind(n),n.dragStopFunction=n.dragStop.bind(n),document.addEventListener("mousemove",n.dragFunction),document.addEventListener("mouseup",n.dragStopFunction),window.addEventListener("blur",n.dragStopFunction),n.gridster.el.addEventListener("touchmove",n.dragFunction),document.addEventListener("touchend",n.dragStopFunction),document.addEventListener("touchcancel",n.dragStopFunction),n.gridsterItem.el.addClass("gridster-item-resizing"),n.lastMouse.clientX=t.clientX,n.lastMouse.clientY=t.clientY,n.left=n.gridsterItem.left,n.top=n.gridsterItem.top,n.width=n.gridsterItem.width,n.height=n.gridsterItem.height,n.bottom=n.gridsterItem.top+n.gridsterItem.height,n.right=n.gridsterItem.left+n.gridsterItem.width,n.margin=n.gridster.$options.margin,n.offsetLeft=n.gridster.el.scrollLeft-n.gridster.el.offsetLeft,n.offsetTop=n.gridster.el.scrollTop-n.gridster.el.offsetTop,n.diffLeft=t.clientX+n.offsetLeft-n.margin-n.left,n.diffRight=t.clientX+n.offsetLeft-n.margin-n.right,n.diffTop=t.clientY+n.offsetTop-n.margin-n.top,n.diffBottom=t.clientY+n.offsetTop-n.margin-n.bottom,n.minHeight=n.gridster.positionYToPixels(n.gridsterItem.$item.minItemRows||n.gridster.$options.minItemRows)-n.margin,n.minWidth=n.gridster.positionXToPixels(n.gridsterItem.$item.minItemCols||n.gridster.$options.minItemCols)-n.margin,n.gridster.movingItem=n.gridsterItem.$item,n.gridster.previewStyle(),n.push=new e(n.gridsterItem),n.pushResize=new r(n.gridsterItem),n.gridster.dragInProgress=!0,n.gridster.gridLines.updateGrid(),t.target.classList.contains("handle-n")?(n.resizeEventScrollType.n=!0,n.directionFunction=n.handleN.bind(n)):t.target.classList.contains("handle-w")?(n.resizeEventScrollType.w=!0,n.directionFunction=n.handleW.bind(n)):t.target.classList.contains("handle-s")?(n.resizeEventScrollType.s=!0,n.directionFunction=n.handleS.bind(n)):t.target.classList.contains("handle-e")?(n.resizeEventScrollType.e=!0,n.directionFunction=n.handleE.bind(n)):t.target.classList.contains("handle-nw")?(n.resizeEventScrollType.n=!0,n.resizeEventScrollType.w=!0,n.directionFunction=n.handleNW.bind(n)):t.target.classList.contains("handle-ne")?(n.resizeEventScrollType.n=!0,n.resizeEventScrollType.e=!0,n.directionFunction=n.handleNE.bind(n)):t.target.classList.contains("handle-sw")?(n.resizeEventScrollType.s=!0,n.resizeEventScrollType.w=!0,n.directionFunction=n.handleSW.bind(n)):t.target.classList.contains("handle-se")&&(n.resizeEventScrollType.s=!0,n.resizeEventScrollType.e=!0,n.directionFunction=n.handleSE.bind(n))},n.dragMove=function(e){e.stopPropagation(),e.preventDefault(),i.checkTouchEvent(e),n.offsetTop=n.gridster.el.scrollTop-n.gridster.el.offsetTop,n.offsetLeft=n.gridster.el.scrollLeft-n.gridster.el.offsetLeft,t(n.gridsterItem,e,n.lastMouse,n.directionFunction,!0,n.resizeEventScrollType),n.directionFunction(e),n.lastMouse.clientX=e.clientX,n.lastMouse.clientY=e.clientY,n.gridster.gridLines.updateGrid()},n.dragStop=function(e){if(e.stopPropagation(),e.preventDefault(),t.cancelScroll(),document.removeEventListener("mousemove",n.dragFunction),document.removeEventListener("mouseup",n.dragStopFunction),window.removeEventListener("blur",n.dragStopFunction),n.gridster.el.removeEventListener("touchmove",n.dragFunction),document.removeEventListener("touchend",n.dragStopFunction),document.removeEventListener("touchcancel",n.dragStopFunction),n.gridsterItem.el.removeClass("gridster-item-resizing"),n.gridster.dragInProgress=!1,n.gridster.gridLines.updateGrid(),n.gridster.$options.resizable.stop){var i=n.gridster.$options.resizable.stop(n.gridsterItem.item,n.gridsterItem,e);i&&i.then?i.then(n.makeResize.bind(n),n.cancelResize.bind(n)):n.makeResize()}else n.makeResize();setTimeout(function(){n.gridster.movingItem=null,n.gridster.previewStyle()})},n.cancelResize=function(){n.gridsterItem.$item.cols=n.gridsterItem.item.cols,n.gridsterItem.$item.rows=n.gridsterItem.item.rows,n.gridsterItem.$item.x=n.gridsterItem.item.x,n.gridsterItem.$item.y=n.gridsterItem.item.y,n.gridsterItem.setSize(!0),n.push.restoreItems(),n.pushResize.restoreItems(),n.push.destroy(),delete n.push,n.pushResize.destroy(),delete n.pushResize},n.makeResize=function(){n.gridsterItem.setSize(!0),n.gridsterItem.checkItemChanges(n.gridsterItem.$item,n.gridsterItem.item),n.push.setPushedItems(),n.pushResize.setPushedItems(),n.push.destroy(),delete n.push,n.pushResize.destroy(),delete n.pushResize},n.handleN=function(e){if(n.top=e.clientY+n.offsetTop-n.margin-n.diffTop,n.height=n.bottom-n.top,n.minHeight>n.height&&(n.height=n.minHeight,n.top=n.bottom-n.minHeight),n.newPosition=n.gridster.pixelsToPositionY(n.top,Math.floor),n.gridsterItem.$item.y!==n.newPosition){if(n.itemBackup[1]=n.gridsterItem.$item.y,n.itemBackup[3]=n.gridsterItem.$item.rows,n.gridsterItem.$item.rows+=n.gridsterItem.$item.y-n.newPosition,n.gridsterItem.$item.y=n.newPosition,n.pushResize.pushItems(n.pushResize.fromSouth,n.gridster.$options.disablePushOnResize),n.push.pushItems(n.push.fromSouth),n.gridster.checkCollision(n.gridsterItem.$item))return n.gridsterItem.$item.y=n.itemBackup[1],n.gridsterItem.$item.rows=n.itemBackup[3],n.gridsterItem.el.css("top",n.gridster.positionYToPixels(n.gridsterItem.$item.y)+"px"),void n.gridsterItem.el.css("height",n.gridster.positionYToPixels(n.gridsterItem.$item.rows)-n.gridster.$options.margin+"px");n.gridster.previewStyle(),n.pushResize.checkPushBack(),n.push.checkPushBack()}n.gridsterItem.el.css("top",n.top+"px"),n.gridsterItem.el.css("height",n.height+"px")},n.handleW=function(e){if(n.left=e.clientX+n.offsetLeft-n.margin-n.diffLeft,n.width=n.right-n.left,n.minWidth>n.width&&(n.width=n.minWidth,n.left=n.right-n.minWidth),n.newPosition=n.gridster.pixelsToPositionX(n.left,Math.floor),n.gridsterItem.$item.x!==n.newPosition){if(n.itemBackup[0]=n.gridsterItem.$item.x,n.itemBackup[2]=n.gridsterItem.$item.cols,n.gridsterItem.$item.cols+=n.gridsterItem.$item.x-n.newPosition,n.gridsterItem.$item.x=n.newPosition,n.pushResize.pushItems(n.pushResize.fromEast),n.push.pushItems(n.push.fromEast,n.gridster.$options.disablePushOnResize),n.gridster.checkCollision(n.gridsterItem.$item))return n.gridsterItem.$item.x=n.itemBackup[0],n.gridsterItem.$item.cols=n.itemBackup[2],n.gridsterItem.el.css("left",n.gridster.positionXToPixels(n.gridsterItem.$item.x)+"px"),void n.gridsterItem.el.css("width",n.gridster.positionXToPixels(n.gridsterItem.$item.cols)-n.gridster.$options.margin+"px");n.gridster.previewStyle(),n.pushResize.checkPushBack(),n.push.checkPushBack()}n.gridsterItem.el.css("left",n.left+"px"),n.gridsterItem.el.css("width",n.width+"px")},n.handleS=function(e){if(n.height=e.clientY+n.offsetTop-n.margin-n.diffBottom-n.top,n.minHeight>n.height&&(n.height=n.minHeight),n.bottom=n.top+n.height,n.newPosition=n.gridster.pixelsToPositionY(n.bottom,Math.ceil),n.gridsterItem.$item.y+n.gridsterItem.$item.rows!==n.newPosition){if(n.itemBackup[3]=n.gridsterItem.$item.rows,n.gridsterItem.$item.rows=n.newPosition-n.gridsterItem.$item.y,n.pushResize.pushItems(n.pushResize.fromNorth),n.push.pushItems(n.push.fromNorth,n.gridster.$options.disablePushOnResize),n.gridster.checkCollision(n.gridsterItem.$item))return n.gridsterItem.$item.rows=n.itemBackup[3],void n.gridsterItem.el.css("height",n.gridster.positionYToPixels(n.gridsterItem.$item.rows)-n.gridster.$options.margin+"px");n.gridster.previewStyle(),n.pushResize.checkPushBack(),n.push.checkPushBack()}n.gridsterItem.el.css("height",n.height+"px")},n.handleE=function(e){if(n.width=e.clientX+n.offsetLeft-n.margin-n.diffRight-n.left,n.minWidth>n.width&&(n.width=n.minWidth),n.right=n.left+n.width,n.newPosition=n.gridster.pixelsToPositionX(n.right,Math.ceil),n.gridsterItem.$item.x+n.gridsterItem.$item.cols!==n.newPosition){if(n.itemBackup[2]=n.gridsterItem.$item.cols,n.gridsterItem.$item.cols=n.newPosition-n.gridsterItem.$item.x,n.pushResize.pushItems(n.pushResize.fromWest),n.push.pushItems(n.push.fromWest,n.gridster.$options.disablePushOnResize),n.gridster.checkCollision(n.gridsterItem.$item))return n.gridsterItem.$item.cols=n.itemBackup[2],void n.gridsterItem.el.css("width",n.gridster.positionXToPixels(n.gridsterItem.$item.cols)-n.gridster.$options.margin+"px");n.gridster.previewStyle(),n.pushResize.checkPushBack(),n.push.checkPushBack()}n.gridsterItem.el.css("width",n.width+"px")},n.handleNW=function(e){n.handleN(e),n.handleW(e)},n.handleNE=function(e){n.handleN(e),n.handleE(e)},n.handleSW=function(e){n.handleS(e),n.handleW(e)},n.handleSE=function(e){n.handleS(e),n.handleE(e)},n.toggle=function(){var e,t,i,r=n.gridsterItem.canBeResized();if(!n.resizeEnabled&&r)for(n.resizeEnabled=!n.resizeEnabled,n.dragStartFunction=n.dragStartDelay,i=(e=n.gridsterItem.nativeEl.querySelectorAll(".gridster-item-resizable-handler")).length-1;i>-1;i--)(t=e[i]).addEventListener("mousedown",n.dragStartFunction),t.addEventListener("touchstart",n.dragStartFunction);else if(n.resizeEnabled&&!r)for(n.resizeEnabled=!n.resizeEnabled,i=(e=n.gridsterItem.nativeEl.querySelectorAll(".gridster-item-resizable-handler")).length-1;i>-1;i--)(t=e[i]).removeEventListener("mousedown",n.dragStartFunction),t.removeEventListener("touchstart",n.dragStartFunction)},n.dragStartDelay=function(e){function t(t){i.checkTouchEvent(t),(Math.abs(t.clientX-e.clientX)>9||Math.abs(t.clientY-e.clientY)>9)&&r()}function r(){clearTimeout(s),window.removeEventListener("blur",r),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",r),document.removeEventListener("touchcancel",r)}if(i.checkTouchEvent(e),n.gridster.$options.resizable.delayStart){var s=setTimeout(function(){n.dragStart(e),r()},n.gridster.$options.resizable.delayStart);document.addEventListener("mouseup",r),window.addEventListener("blur",r),document.addEventListener("touchmove",t),document.addEventListener("touchend",r),document.addEventListener("touchcancel",r)}else n.dragStart(e)}}}e.$inject=["GridsterPush","GridsterScroll","GridsterUtils","GridsterPushResize"],angular.module("angular-gridster2").service("GridsterResizable",e)}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterPushResize",function(){return function(e){var t=this;t.pushedItems=[],t.pushedItemsPath=[],t.gridsterItem=e,t.gridster=e.gridster,t.fromSouth="fromSouth",t.fromNorth="fromNorth",t.fromEast="fromEast",t.fromWest="fromWest",t.destroy=function(){delete t.gridster,delete t.gridsterItem},t.pushItems=function(e){t.gridster.$options.pushResizeItems&&t.push(t.gridsterItem,e)},t.restoreItems=function(){for(var e,i=0,r=t.pushedItems.length;i<r;i++)(e=t.pushedItems[i]).$item.x=e.item.x,e.$item.y=e.item.y,e.$item.cols=e.item.cols,e.$item.row=e.item.row,e.setSize(!0);t.pushedItems=void 0,t.pushedItemsPath=void 0},t.setPushedItems=function(){for(var e,i=0,r=t.pushedItems.length;i<r;i++)(e=t.pushedItems[i]).checkItemChanges(e.$item,e.item);t.pushedItems=void 0,t.pushedItemsPath=void 0},t.push=function(e,i){var r=t.gridster.checkCollision(e.$item);if(r&&!0!==r&&r!==t.gridsterItem&&r.canBeResized()){if(t.tryPattern[i].call(t,r,e,i))return!0}else if(!1===r)return!0;return!1},t.trySouth=function(e,i,r){var s=e.$item.y,o=e.$item.rows;return e.$item.y=i.$item.y+i.$item.rows,e.$item.rows=o+s-e.$item.y,t.gridster.checkCollisionTwoItems(e.$item,i.$item)||t.gridster.checkGridCollision(e.$item)?(e.$item.y=s,e.$item.rows=o,!1):(e.setSize(!0),t.addToPushed(e),t.push(i,r),!0)},t.tryNorth=function(e,i,r){var s=e.$item.rows;return e.$item.rows=i.$item.y-e.$item.y,t.gridster.checkCollisionTwoItems(e.$item,i.$item)||t.gridster.checkGridCollision(e.$item)?(e.$item.rows=s,!1):(e.setSize(!0),t.addToPushed(e),t.push(i,r),!0)},t.tryEast=function(e,i,r){var s=e.$item.x,o=e.$item.cols;return e.$item.x=i.$item.x+i.$item.cols,e.$item.cols=o+s-e.$item.x,t.gridster.checkCollisionTwoItems(e.$item,i.$item)||t.gridster.checkGridCollision(e.$item)?(e.$item.x=s,e.$item.cols=o,!1):(e.setSize(!0),t.addToPushed(e),t.push(i,r),!0)},t.tryWest=function(e,i,r){var s=e.$item.cols;return e.$item.cols=i.$item.x-e.$item.x,t.gridster.checkCollisionTwoItems(e.$item,i.$item)||t.gridster.checkGridCollision(e.$item)?(e.$item.cols=s,!1):(e.setSize(!0),t.addToPushed(e),t.push(i,r),!0)},t.tryPattern={fromEast:t.tryWest,fromWest:t.tryEast,fromNorth:t.trySouth,fromSouth:t.tryNorth},t.addToPushed=function(e){if(t.pushedItems.indexOf(e)<0)t.pushedItems.push(e),t.pushedItemsPath.push([{x:e.item.x,y:e.item.y,cols:e.item.cols,rows:e.item.rows},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{var i=t.pushedItems.indexOf(e);t.pushedItemsPath[i].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}},t.removeFromPushed=function(e){e>-1&&(t.pushedItems.splice(e,1),t.pushedItemsPath.splice(e,1))},t.checkPushBack=function(){for(var e=t.pushedItems.length-1,i=!1;e>-1;e--)t.checkPushedItem(t.pushedItems[e],e)&&(i=!0);i&&t.checkPushBack()},t.checkPushedItem=function(e,i){for(var r,s,o,n,d,l=t.pushedItemsPath[i],m=l.length-2;m>-1;m--)r=l[m],s=e.$item.x,o=e.$item.y,n=e.$item.cols,d=e.$item.rows,e.$item.x=r.x,e.$item.y=r.y,e.$item.cols=r.cols,e.$item.rows=r.rows,t.gridster.findItemWithItem(e.$item)?(e.$item.x=s,e.$item.y=o,e.$item.cols=n,e.$item.rows=d):(e.setSize(!0),l.splice(m+1,l.length-1-m));return l.length<2&&(t.removeFromPushed(i),!0)}}})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterPush",function(){return function(e){var t=this;t.pushedItems=[],t.pushedItemsPath=[],t.pushedItemsTemp=[],t.pushedItemsTempPath=[],t.gridsterItem=e,t.gridster=e.gridster,t.fromSouth="fromSouth",t.fromNorth="fromNorth",t.fromEast="fromEast",t.fromWest="fromWest",t.destroy=function(){delete t.gridster,delete t.gridsterItem},t.pushItems=function(e,i){t.gridster.$options.pushItems&&!i&&(t.pushedItemsOrder=[],t.push(t.gridsterItem,e)||t.restoreTempItems(),t.pushedItemsOrder=[],t.pushedItemsTemp=[],t.pushedItemsTempPath=[])},t.restoreTempItems=function(){for(var e=t.pushedItemsTemp.length-1;e>-1;e--)t.removeFromTempPushed(t.pushedItemsTemp[e])},t.restoreItems=function(){for(var e,i=0,r=t.pushedItems.length;i<r;i++)(e=t.pushedItems[i]).$item.x=e.item.x,e.$item.y=e.item.y,e.setSize(!0);t.pushedItems=void 0,t.pushedItemsPath=void 0},t.setPushedItems=function(){for(var e,i=0,r=t.pushedItems.length;i<r;i++)(e=t.pushedItems[i]).checkItemChanges(e.$item,e.item);t.pushedItems=void 0,t.pushedItemsPath=void 0},t.push=function(e,i){if(t.gridster.checkGridCollision(e.$item))return!1;for(var r,s=t.gridster.findItemsWithItem(e.$item),o=s.length-1,n=!0,d=[];o>-1;o--){if((r=s[o])===t.gridsterItem){n=!1;break}if(!r.canBeDragged()){n=!1;break}if(t.pushedItemsTemp.indexOf(r)>-1){n=!1;break}if(t.tryPattern[i][0].call(t,r,e))t.pushedItemsOrder.push(r),d.push(r);else if(t.tryPattern[i][1].call(t,r,e))t.pushedItemsOrder.push(r),d.push(r);else if(t.tryPattern[i][2].call(t,r,e))t.pushedItemsOrder.push(r),d.push(r);else{if(!t.tryPattern[i][3].call(t,r,e)){n=!1;break}t.pushedItemsOrder.push(r),d.push(r)}}if(!n&&(o=t.pushedItemsOrder.lastIndexOf(d[0]))>-1)for(var l=t.pushedItemsOrder.length-1;l>=o;l--)r=t.pushedItemsOrder[l],t.pushedItemsOrder.pop(),t.removeFromTempPushed(r),t.removeFromPushedItem(r);return n},t.trySouth=function(e,i){return!!t.gridster.$options.pushDirections.south&&(t.addToTempPushed(e),e.$item.y=i.$item.y+i.$item.rows,t.push(e,t.fromNorth)?(e.setSize(!0),t.addToPushed(e),!0):(t.removeFromTempPushed(e),!1))},t.tryNorth=function(e,i){return!!t.gridster.$options.pushDirections.north&&(t.addToTempPushed(e),e.$item.y=i.$item.y-e.$item.rows,t.push(e,t.fromSouth)?(e.setSize(!0),t.addToPushed(e),!0):(t.removeFromTempPushed(e),!1))},t.tryEast=function(e,i){return!!t.gridster.$options.pushDirections.east&&(t.addToTempPushed(e),e.$item.x=i.$item.x+i.$item.cols,t.push(e,t.fromWest)?(e.setSize(!0),t.addToPushed(e),!0):(t.removeFromTempPushed(e),!1))},t.tryWest=function(e,i){return!!t.gridster.$options.pushDirections.west&&(t.addToTempPushed(e),e.$item.x=i.$item.x-e.$item.cols,t.push(e,t.fromEast)?(e.setSize(!0),t.addToPushed(e),!0):(t.removeFromTempPushed(e),!1))},t.tryPattern={fromEast:[t.tryWest,t.trySouth,t.tryNorth,t.tryEast],fromWest:[t.tryEast,t.trySouth,t.tryNorth,t.tryWest],fromNorth:[t.trySouth,t.tryEast,t.tryWest,t.tryNorth],fromSouth:[t.tryNorth,t.tryEast,t.tryWest,t.trySouth]},t.addToTempPushed=function(e){var i=t.pushedItemsTemp.indexOf(e);-1===i&&(i=t.pushedItemsTemp.push(e)-1,t.pushedItemsTempPath[i]=[]),t.pushedItemsTempPath[i].push({x:e.$item.x,y:e.$item.y})},t.removeFromTempPushed=function(e){var i=t.pushedItemsTemp.indexOf(e),r=t.pushedItemsTempPath[i].pop();r&&(e.$item.x=r.x,e.$item.y=r.y,e.setSize(!0),t.pushedItemsTempPath[i].length||(t.pushedItemsTemp.splice(i,1),t.pushedItemsTempPath.splice(i,1)))},t.checkInTempPushed=function(e){return t.pushedItemsTemp.indexOf(e)>-1},t.addToPushed=function(e){if(t.pushedItems.indexOf(e)<0)t.pushedItems.push(e),t.pushedItemsPath.push([{x:e.item.x,y:e.item.y},{x:e.$item.x,y:e.$item.y}]);else{var i=t.pushedItems.indexOf(e);t.pushedItemsPath[i].push({x:e.$item.x,y:e.$item.y})}},t.removeFromPushed=function(e){e>-1&&(t.pushedItems.splice(e,1),t.pushedItemsPath.splice(e,1))},t.checkPushBack=function(){for(var e=t.pushedItems.length-1,i=!1;e>-1;e--)t.checkPushedItem(t.pushedItems[e],e)&&(i=!0);i&&t.checkPushBack()},t.removeFromPushedItem=function(e){var i=t.pushedItems.indexOf(e);i>-1&&(t.pushedItemsPath[i].pop(),t.pushedItemsPath.length||(t.pushedItems.splice(i,1),t.pushedItemsPath.splice(i,1)))},t.checkPushedItem=function(e,i){for(var r,s,o,n=t.pushedItemsPath[i],d=n.length-2;d>-1;d--)r=n[d],s=e.$item.x,o=e.$item.y,e.$item.x=r.x,e.$item.y=r.y,t.gridster.findItemWithItem(e.$item)?(e.$item.x=s,e.$item.y=o):(e.setSize(!0),n.splice(d+1,n.length-1-d));return n.length<2&&(t.removeFromPushed(i),!0)}}})}(),function(){"use strict";function e(e){var t=this;t.$onInit=function(){t.gridster.previewStyle=t.previewStyle.bind(t)},t.$onDestroy=function(){delete t.gridster.previewStyle},t.previewStyle=function(){if(t.gridster.movingItem){var i=0,r=t.gridster.curRowHeight,s=t.gridster.curColWidth;t.gridster.$options.outerMargin&&(i=t.gridster.$options.margin),e.css("display","block"),e.css("height",t.gridster.movingItem.rows*r-i+"px"),e.css("width",t.gridster.movingItem.cols*s-i+"px"),e.css("top",t.gridster.movingItem.y*r+i+"px"),e.css("left",t.gridster.movingItem.x*s+i+"px"),e.css("marginBottom",i+"px")}else e.css("display","none")}}e.$inject=["$element"],angular.module("angular-gridster2").component("gridsterPreview",{controller:e,require:{gridster:"^^gridster"}})}(),function(){"use strict";function e(e,t,i,r,s){var o=this;o.$item={cols:void 0,rows:void 0,x:void 0,y:void 0,initCallback:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0},o.el=t,o.nativeEl=t[0],o.notPlaced=!1,o.itemTop=0,o.itemLeft=0,o.itemWidth=0,o.itemHeight=0,o.top=0,o.left=0,o.width=0,o.height=0,o.itemMargin=0,o.$onInit=function(){o.drag=new i(o,o.gridster),o.resize=new r(o,o.gridster),o.updateOptions(),o.gridster.addItem(o)},o.updateOptions=function(){o.$item=s.merge(o.$item,o.item,o.$item)},o.$onDestroy=function(){o.gridster.removeItem(o),delete o.$item.initCallback,o.drag.destroy(),delete o.drag,o.resize.destroy(),delete o.resize},o.setSize=function(i){o.gridster.mobile?(o.top=0,o.left=0,o.gridster.$options.keepFixedWidthInMobile?o.width=o.$item.cols*o.gridster.$options.fixedColWidth:o.width=o.gridster.curWidth-(o.gridster.$options.outerMargin?2*o.gridster.$options.margin:0),o.gridster.$options.keepFixedHeightInMobile?o.height=o.$item.rows*o.gridster.$options.fixedRowHeight:o.height=o.width/2):(o.top=o.$item.y*o.gridster.curRowHeight,o.left=o.$item.x*o.gridster.curColWidth,o.width=o.$item.cols*o.gridster.curColWidth-o.gridster.$options.margin,o.height=o.$item.rows*o.gridster.curRowHeight-o.gridster.$options.margin),(i||o.top!==o.itemTop||o.left!==o.itemLeft||o.width!==o.itemWidth||o.height!==o.itemHeight)&&(o.gridster.$options.outerMargin?o.itemMargin=o.gridster.$options.margin:o.itemMargin=0,t.css("display",o.notPlaced?"none":"block"),t.css("top",o.top+"px"),t.css("left",o.left+"px"),t.css("width",o.width+"px"),t.css("height",o.height+"px"),t.css("margin",o.itemMargin+"px"),o.width===o.itemWidth&&o.height===o.itemHeight||(e.$broadcast("gridster-item-resize",o.item),o.gridster.$options.itemResizeCallback&&o.gridster.$options.itemResizeCallback(o.item,o)),o.itemTop=o.top,o.itemLeft=o.left,o.itemWidth=o.width,o.itemHeight=o.height)},o.itemChanged=function(){e.$broadcast("gridster-item-change",o.item),o.gridster.$options.itemChangeCallback&&o.gridster.$options.itemChangeCallback(o.item,o)},o.checkItemChanges=function(e,t){e.rows===t.rows&&e.cols===t.cols&&e.x===t.x&&e.y===t.y||(o.gridster.checkCollision(o.$item)?(o.$item.x=t.x,o.$item.y=t.y,o.$item.cols=t.cols,o.$item.rows=t.rows):(o.item.cols=o.$item.cols,o.item.rows=o.$item.rows,o.item.x=o.$item.x,o.item.y=o.$item.y,o.gridster.calculateLayout(),o.itemChanged()))},o.canBeDragged=function(){return!o.gridster.mobile&&(void 0===o.$item.dragEnabled?o.gridster.$options.draggable.enabled:o.$item.dragEnabled)},o.canBeResized=function(){return!o.gridster.mobile&&(void 0===o.$item.resizeEnabled?o.gridster.$options.resizable.enabled:o.$item.resizeEnabled)}}e.$inject=["$scope","$element","GridsterDraggable","GridsterResizable","GridsterUtils"],angular.module("angular-gridster2").component("gridsterItem",{templateUrl:"gridster2/gridsterItem.html",controller:e,controllerAs:"GridsterItemCtrl",bindings:{item:"<"},require:{gridster:"^^gridster"},transclude:!0})}(),function(){"use strict";function e(e,t){var i=this;i.$onInit=function(){i.gridster.gridLines=i,i.columns=[],i.rows=[],i.height=0,i.width=0,i.margin=0,i.columnsHeight=0,i.rowsWidth=0},i.$onDestroy=function(){delete i.gridster.gridLines},i.updateGrid=function(){if("always"!==i.gridster.$options.displayGrid||i.gridster.mobile){if("onDrag&Resize"===i.gridster.$options.displayGrid&&i.gridster.dragInProgress)e.css("display","block");else if("none"===i.gridster.$options.displayGrid||!i.gridster.dragInProgress||i.gridster.mobile)return void e.css("display","none")}else e.css("display","block");i.margin=i.gridster.$options.margin,i.height=i.gridster.curRowHeight-i.margin,i.width=i.gridster.curColWidth-i.margin,i.columns.length=Math.max(i.gridster.columns,Math.floor(i.gridster.curWidth/i.gridster.curColWidth))||0,i.rows.length=Math.max(i.gridster.rows,Math.floor(i.gridster.curHeight/i.gridster.curRowHeight))||0,i.columnsHeight=i.gridster.curRowHeight*i.rows.length,i.rowsWidth=i.gridster.curColWidth*i.columns.length,t.$applyAsync()}}e.$inject=["$element","$scope"],angular.module("angular-gridster2").component("gridsterGrid",{templateUrl:"gridster2/gridsterGrid.html",controller:e,require:{gridster:"^^gridster"}})}(),function(){"use strict";function e(e){return function(t){var i=this;i.destroy=function(){delete i.gridster},i.updateOptions=function(){t.$options.enableEmptyCellClick&&!i.emptyCellClick&&t.$options.emptyCellClickCallback?(i.emptyCellClick=!0,t.el.addEventListener("click",i.emptyCellClickCb),t.el.addEventListener("touchend",i.emptyCellClickCb)):!t.$options.enableEmptyCellClick&&i.emptyCellClick&&(i.emptyCellClick=!1,t.el.removeEventListener("click",i.emptyCellClickCb),t.el.removeEventListener("touchend",i.emptyCellClickCb)),t.$options.enableEmptyCellContextMenu&&!i.emptyCellContextMenu&&t.$options.emptyCellContextMenuCallback?(i.emptyCellContextMenu=!0,t.el.addEventListener("contextmenu",i.emptyCellContextMenuCb)):!t.$options.enableEmptyCellContextMenu&&i.emptyCellContextMenu&&(i.emptyCellContextMenu=!1,t.el.removeEventListener("contextmenu",i.emptyCellContextMenuCb)),t.$options.enableEmptyCellDrop&&!i.emptyCellDrop&&t.$options.emptyCellDropCallback?(i.emptyCellDrop=!0,t.el.addEventListener("drop",i.emptyCellDragDrop),t.el.addEventListener("dragover",i.emptyCellDragOver)):!t.$options.enableEmptyCellDrop&&i.emptyCellDrop&&(i.emptyCellDrop=!1,t.el.removeEventListener("drop",i.emptyCellDragDrop),t.el.removeEventListener("dragover",i.emptyCellDragOver)),t.$options.enableEmptyCellDrag&&!i.emptyCellDrag&&t.$options.emptyCellDragCallback?(i.emptyCellDrag=!0,t.el.addEventListener("mousedown",i.emptyCellMouseDown),t.el.addEventListener("touchstart",i.emptyCellMouseDown)):!t.$options.enableEmptyCellDrag&&i.emptyCellDrag&&(i.emptyCellDrag=!1,t.el.removeEventListener("mousedown",i.emptyCellMouseDown),t.el.removeEventListener("touchstart",i.emptyCellMouseDown))},i.emptyCellClickCb=function(r){if(!t.movingItem&&!e.checkContentClassForEvent(t,r)){var s=i.getValidItemFromEvent(r);s&&t.$options.emptyCellClickCallback(r,s)}},i.emptyCellContextMenuCb=function(r){if(!t.movingItem&&!e.checkContentClassForEvent(t,r)){r.preventDefault(),r.stopPropagation();var s=i.getValidItemFromEvent(r);s&&t.$options.emptyCellContextMenuCallback(r,s)}},i.emptyCellDragDrop=function(e){var r=i.getValidItemFromEvent(e);r&&t.$options.emptyCellDropCallback(e,r)},i.emptyCellDragOver=function(e){e.preventDefault(),e.stopPropagation(),i.getValidItemFromEvent(e)?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none"},i.emptyCellMouseDown=function(r){if(!e.checkContentClassForEvent(t,r)){r.preventDefault(),r.stopPropagation();var s=i.getValidItemFromEvent(r);s&&(i.initialItem=s,t.movingItem=s,t.previewStyle(),window.addEventListener("mousemove",i.emptyCellMouseMove),window.addEventListener("touchmove",i.emptyCellMouseMove),window.addEventListener("mouseup",i.emptyCellMouseUp),window.addEventListener("touchend",i.emptyCellMouseUp))}},i.emptyCellMouseMove=function(e){e.preventDefault(),e.stopPropagation();var r=i.getValidItemFromEvent(e,i.initialItem);r&&(t.movingItem=r,t.previewStyle())},i.emptyCellMouseUp=function(e){window.removeEventListener("mousemove",i.emptyCellMouseMove),window.removeEventListener("touchmove",i.emptyCellMouseMove),window.removeEventListener("mouseup",i.emptyCellMouseUp),window.removeEventListener("touchend",i.emptyCellMouseUp);var r=i.getValidItemFromEvent(e,i.initialItem);r&&(t.movingItem=r),t.$options.emptyCellDragCallback(e,t.movingItem),setTimeout(function(){t.movingItem=null,t.previewStyle()})},i.getValidItemFromEvent=function(i,r){i.preventDefault(),i.stopPropagation(),e.checkTouchEvent(i);var s=t.el.getBoundingClientRect(),o=i.clientX+t.el.scrollLeft-s.left,n=i.clientY+t.el.scrollTop-s.top,d={x:t.pixelsToPositionX(o,Math.floor),y:t.pixelsToPositionY(n,Math.floor),cols:t.$options.defaultItemCols,rows:t.$options.defaultItemRows};if(r&&(d.cols=Math.min(Math.abs(r.x-d.x)+1,t.$options.emptyCellDragMaxCols),d.rows=Math.min(Math.abs(r.y-d.y)+1,t.$options.emptyCellDragMaxRows),r.x<d.x?d.x=r.x:r.x-d.x>t.$options.emptyCellDragMaxCols-1&&(d.x=t.movingItem.x),r.y<d.y?d.y=r.y:r.y-d.y>t.$options.emptyCellDragMaxRows-1&&(d.y=t.movingItem.y)),!t.checkCollision(d))return d}}}e.$inject=["GridsterUtils"],angular.module("angular-gridster2").service("GridsterEmptyCell",e)}(),function(){"use strict";function e(e,t,i,r){return function(s,o){var n=this;n.offsetLeft=0,n.offsetTop=0,n.margin=0,n.diffTop=0,n.diffLeft=0,n.top=0,n.left=0,n.height=0,n.width=0,n.positionX=0,n.positionY=0,n.positionXBackup=0,n.positionYBackup=0,n.enabled=!1,n.dragStartFunction=angular.noop,n.dragFunction=angular.noop,n.dragStopFunction=angular.noop,n.push=void 0,n.swap=void 0,n.gridsterItem=s,n.gridster=o,n.lastMouse={clientX:0,clientY:0},n.path=[],n.destroy=function(){delete n.gridsterItem,delete n.gridster,n.mousedown&&(n.gridsterItem.nativeEl.removeEventListener("mousedown",n.dragStartDelay),n.gridsterItem.nativeEl.removeEventListener("touchstart",n.dragStartDelay))},n.dragStart=function(i){switch(i.which){case 1:break;case 2:case 3:return}n.gridster.$options.draggable.start&&n.gridster.$options.draggable.start(n.gridsterItem.item,n.gridsterItem,i),i.stopPropagation(),i.preventDefault(),n.dragFunction=n.dragMove.bind(n),n.dragStopFunction=n.dragStop.bind(n),document.addEventListener("mousemove",n.dragFunction),document.addEventListener("mouseup",n.dragStopFunction),window.addEventListener("blur",n.dragStopFunction),n.gridster.el.addEventListener("touchmove",n.dragFunction),document.addEventListener("touchend",n.dragStopFunction),document.addEventListener("touchcancel",n.dragStopFunction),n.gridsterItem.el.addClass("gridster-item-moving"),n.margin=n.gridster.$options.margin,n.offsetLeft=n.gridster.el.scrollLeft-n.gridster.el.offsetLeft,n.offsetTop=n.gridster.el.scrollTop-n.gridster.el.offsetTop,n.left=n.gridsterItem.left,n.top=n.gridsterItem.top,n.width=n.gridsterItem.width,n.height=n.gridsterItem.height,n.diffLeft=i.clientX+n.offsetLeft-n.margin-n.left,n.diffTop=i.clientY+n.offsetTop-n.margin-n.top,n.gridster.movingItem=n.gridsterItem.$item,n.gridster.previewStyle(),n.push=new e(n.gridsterItem),n.swap=new t(n.gridsterItem),n.gridster.dragInProgress=!0,n.gridster.gridLines.updateGrid(),n.path.push({x:n.gridsterItem.item.x,y:n.gridsterItem.item.y})},n.dragMove=function(e){e.stopPropagation(),e.preventDefault(),r.checkTouchEvent(e),n.offsetLeft=n.gridster.el.scrollLeft-n.gridster.el.offsetLeft,n.offsetTop=n.gridster.el.scrollTop-n.gridster.el.offsetTop,i(n.gridsterItem,e,n.lastMouse,n.calculateItemPositionFromMousePosition.bind(n)),n.calculateItemPositionFromMousePosition(e),n.lastMouse.clientX=e.clientX,n.lastMouse.clientY=e.clientY,n.gridster.gridLines.updateGrid()},n.calculateItemPositionFromMousePosition=function(e){n.left=e.clientX+n.offsetLeft-n.margin-n.diffLeft,n.top=e.clientY+n.offsetTop-n.margin-n.diffTop,n.calculateItemPosition()},n.dragStop=function(e){if(e.stopPropagation(),e.preventDefault(),i.cancelScroll(),document.removeEventListener("mousemove",n.dragFunction),document.removeEventListener("mouseup",n.dragStopFunction),window.removeEventListener("blur",n.dragStopFunction),n.gridster.el.removeEventListener("touchmove",n.dragFunction),document.removeEventListener("touchend",n.dragStopFunction),document.removeEventListener("touchcancel",n.dragStopFunction),n.gridsterItem.el.removeClass("gridster-item-moving"),n.gridster.dragInProgress=!1,n.gridster.gridLines.updateGrid(),n.gridster.gridLines.updateGrid(!1),n.path=[],n.gridster.$options.draggable.stop){var t=n.gridster.$options.draggable.stop(n.gridsterItem.item,n.gridsterItem,e);t&&t.then?t.then(n.makeDrag.bind(n),n.cancelDrag.bind(n)):n.makeDrag()}else n.makeDrag();setTimeout(function(){n.gridster.movingItem=null,n.gridster.previewStyle()})},n.cancelDrag=function(){n.gridsterItem.$item.x=n.gridsterItem.item.x,n.gridsterItem.$item.y=n.gridsterItem.item.y,n.gridsterItem.setSize(!0),n.push.restoreItems(),n.swap.restoreSwapItem(),n.push.destroy(),delete n.push,n.swap.destroy(),delete n.swap},n.makeDrag=function(){n.gridsterItem.setSize(!0),n.gridsterItem.checkItemChanges(n.gridsterItem.$item,n.gridsterItem.item),n.push.setPushedItems(),n.swap.setSwapItem(),n.push.destroy(),delete n.push,n.swap.destroy(),delete n.swap},n.calculateItemPosition=function(){if(n.positionX=n.gridster.pixelsToPositionX(n.left,Math.round),n.positionY=n.gridster.pixelsToPositionY(n.top,Math.round),n.positionXBackup=n.gridsterItem.$item.x,n.positionYBackup=n.gridsterItem.$item.y,n.gridsterItem.$item.x=n.positionX,n.gridster.checkGridCollision(n.gridsterItem.$item)?n.gridsterItem.$item.x=n.positionXBackup:n.gridsterItem.el.css("left",n.left+"px"),n.gridsterItem.$item.y=n.positionY,n.gridster.checkGridCollision(n.gridsterItem.$item)?n.gridsterItem.$item.y=n.positionYBackup:n.gridsterItem.el.css("top",n.top+"px"),n.positionXBackup!==n.gridsterItem.$item.x||n.positionYBackup!==n.gridsterItem.$item.y){var e,t=n.path[n.path.length-1];t.x<n.gridsterItem.$item.x?e=n.push.fromWest:t.x>n.gridsterItem.$item.x?e=n.push.fromEast:t.y<n.gridsterItem.$item.y?e=n.push.fromNorth:t.y>n.gridsterItem.$item.y&&(e=n.push.fromSouth),n.push.pushItems(e,n.gridster.$options.disablePushOnDrag),n.swap.swapItems(),n.gridster.checkCollision(n.gridsterItem.$item)?(n.gridsterItem.$item.x=n.positionXBackup,n.gridsterItem.$item.y=n.positionYBackup):(n.path.push({x:n.gridsterItem.$item.x,y:n.gridsterItem.$item.y}),n.gridster.previewStyle()),n.push.checkPushBack()}},n.toggle=function(){var e=n.gridsterItem.canBeDragged();!n.enabled&&e?(n.enabled=!n.enabled,n.gridsterItem.nativeEl.addEventListener("mousedown",n.dragStartDelay),n.gridsterItem.nativeEl.addEventListener("touchstart",n.dragStartDelay)):n.enabled&&!e&&(n.enabled=!n.enabled,n.gridsterItem.nativeEl.removeEventListener("mousedown",n.dragStartDelay),n.gridsterItem.nativeEl.removeEventListener("touchstart",n.dragStartDelay))},n.dragStartDelay=function(e){function t(t){r.checkTouchEvent(t),(Math.abs(t.clientX-e.clientX)>9||Math.abs(t.clientY-e.clientY)>9)&&i()}function i(){clearTimeout(s),document.removeEventListener("mouseup",i),window.removeEventListener("blur",i),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",i),document.removeEventListener("touchcancel",i)}if(r.checkTouchEvent(e),!e.target.classList.contains("gridster-item-resizable-handler")&&!r.checkContentClassForEvent(n.gridster,e))if(n.gridster.$options.draggable.delayStart){var s=setTimeout(function(){n.dragStart(e),i()},n.gridster.$options.draggable.delayStart);document.addEventListener("mouseup",i),window.addEventListener("blur",i),document.addEventListener("touchmove",t),document.addEventListener("touchend",i),document.addEventListener("touchcancel",i)}else n.dragStart(e)}}}e.$inject=["GridsterPush","GridsterSwap","GridsterScroll","GridsterUtils"],angular.module("angular-gridster2").service("GridsterDraggable",e)}(),function(){"use strict";angular.module("angular-gridster2").constant("GridsterConfig",{gridType:"fit",fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,compactType:"none",mobileBreakpoint:640,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,margin:10,outerMargin:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:"onDrag&Resize",disableWindowResize:!1,disableWarnings:!1})}(),function(){"use strict";angular.module("angular-gridster2").service("GridsterCompact",function(){return function(e){var t=this;t.destroy=function(){delete t.gridster},t.checkCompact=function(){"none"!==e.$options.compactType&&("compactUp"===e.$options.compactType?t.checkCompactUp():"compactLeft"===e.$options.compactType?t.checkCompactLeft():"compactUp&Left"===e.$options.compactType?(t.checkCompactUp(),t.checkCompactLeft()):"compactLeft&Up"===e.$options.compactType&&(t.checkCompactLeft(),t.checkCompactUp()))},t.checkCompactUp=function(){for(var i,r=!1,s=e.grid.length,o=0;o<s;o++)!1!==(i=e.grid[o]).$item.compactEnabled&&t.moveUpTillCollision(i)&&(r=!0,i.item.y=i.$item.y,i.itemChanged());return r&&t.checkCompactUp(),r},t.moveUpTillCollision=function(i){return i.$item.y-=1,e.checkCollision(i.$item)?(i.$item.y+=1,!1):(t.moveUpTillCollision(i),!0)},t.checkCompactLeft=function(){for(var i,r=!1,s=e.grid.length,o=0;o<s;o++)!1!==(i=e.grid[o]).$item.compactEnabled&&t.moveLeftTillCollision(i)&&(r=!0,i.item.x=i.$item.x,i.itemChanged());return r&&t.checkCompactLeft(),r},t.moveLeftTillCollision=function(i){return i.$item.x-=1,e.checkCollision(i.$item)?(i.$item.x+=1,!1):(t.moveLeftTillCollision(i),!0)}}})}(),function(){"use strict";function e(e,t,i,r,s,o,n){var d=this;d.calculateLayoutDebounce=angular.noop,d.movingItem=void 0,d.previewStyle=angular.noop,d.mobile=!1,d.columns=0,d.rows=0,d.windowResize=angular.noop,d.gridLines=void 0,d.dragInProgress=!1,d.el=e[0],d.$options=JSON.parse(JSON.stringify(t)),d.mobile=!1,d.curWidth=0,d.curHeight=0,d.grid=[],d.curColWidth=0,d.curRowHeight=0,d.$options.draggable.stop=void 0,d.$options.draggable.start=void 0,d.$options.resizable.stop=void 0,d.$options.resizable.start=void 0,d.$options.itemChangeCallback=void 0,d.$options.itemResizeCallback=void 0,d.$options.itemInitCallback=void 0,d.$options.itemRemovedCallback=void 0,d.$options.emptyCellClickCallback=void 0,d.$options.emptyCellContextMenuCallback=void 0,d.$options.emptyCellDropCallback=void 0,d.$options.emptyCellDragCallback=void 0,d.checkCollisionTwoItems=function(e,t){return e.x<t.x+t.cols&&e.x+e.cols>t.x&&e.y<t.y+t.rows&&e.y+e.rows>t.y},d.$onInit=function(){d.options.initCallback&&d.options.initCallback(d)},d.$onChanges=function(e){e.options&&(d.emptyCell=new o(d),d.compact=new n(d),d.setOptions(),d.options.api={optionsChanged:d.optionsChanged,resize:d.onResize,getNextPossiblePosition:d.getNextPossiblePosition},d.columns=d.$options.minCols,d.rows=d.$options.minRows,d.setGridSize(),d.calculateLayoutDebounce=i.debounce(d.calculateLayout,5),d.calculateLayoutDebounce())},d.resize=function(){var e,t;"fit"!==d.$options.gridType||d.mobile?(t=d.el.clientWidth,e=d.el.clientHeight):(t=d.el.offsetWidth,e=d.el.offsetHeight),t===d.curWidth&&e===d.curHeight||!d.checkIfToResize()||d.onResize()},d.setOptions=function(){d.$options=i.merge(d.$options,d.options,d.$options),d.$options.disableWindowResize||d.onResizeFunction?d.$options.disableWindowResize&&d.onResizeFunction&&(d.onResizeFunction=!1,window.removeEventListener("resize",d.onResize)):(d.onResizeFunction=!0,window.addEventListener("resize",d.onResize)),d.emptyCell.updateOptions()},d.optionsChanged=function(){d.setOptions();for(var e=d.grid.length-1;e>=0;e--)d.grid[e].updateOptions();d.calculateLayout()},d.$onDestroy=function(){d.onResizeFunction&&(d.onResizeFunction=!1,window.removeEventListener("resize",d.onResize)),d.options.destroyCallback&&d.options.destroyCallback(d),d.options.api&&(d.options.api.resize=void 0,d.options.api.optionsChanged=void 0,d.options.api.getNextPossiblePosition=void 0,d.options.api=void 0),d.emptyCell.destroy(),delete d.emptyCell,d.compact.destroy(),delete d.compact},d.onResize=function(){d.setGridSize(),d.calculateLayoutDebounce()},d.checkIfToResize=function(){var e=d.el.clientWidth,t=d.el.offsetWidth,i=d.el.scrollWidth,r=d.el.clientHeight,s=d.el.offsetHeight,o=d.el.scrollHeight;return!(e<t&&o>s&&o-s<t-e)&&!(r<s&&i>t&&i-t<s-r)},d.setGridSize=function(){var e=d.el.clientWidth,t=d.el.clientHeight;"fit"!==d.$options.gridType||d.mobile?(e=d.el.clientWidth,t=d.el.clientHeight):(e=d.el.offsetWidth,t=d.el.offsetHeight),d.curWidth=e,d.curHeight=t},d.setGridDimensions=function(){d.setGridSize(),!d.mobile&&d.$options.mobileBreakpoint>d.curWidth?(d.mobile=!d.mobile,e.addClass("mobile")):d.mobile&&d.$options.mobileBreakpoint<d.curWidth&&(d.mobile=!d.mobile,e.removeClass("mobile"));for(var t=d.$options.minRows,i=d.$options.minCols,r=d.grid.length-1;r>=0;r--)t=Math.max(t,d.grid[r].$item.y+d.grid[r].$item.rows),i=Math.max(i,d.grid[r].$item.x+d.grid[r].$item.cols);d.columns=i,d.rows=t},d.calculateLayout=function(){d.compact&&d.compact.checkCompact(),d.setGridDimensions(),d.$options.outerMargin?(d.curColWidth=Math.floor((d.curWidth-d.$options.margin)/d.columns),d.curRowHeight=Math.floor((d.curHeight-d.$options.margin)/d.rows)):(d.curColWidth=Math.floor((d.curWidth+d.$options.margin)/d.columns),d.curRowHeight=Math.floor((d.curHeight+d.$options.margin)/d.rows));var t,i,r,o;"fit"===d.$options.gridType?(t="fit",i="scrollVertical",r="scrollHorizontal",o="fixed"):"scrollVertical"===d.$options.gridType?(d.curRowHeight=d.curColWidth,t="scrollVertical",i="fit",r="scrollHorizontal",o="fixed"):"scrollHorizontal"===d.$options.gridType?(d.curColWidth=d.curRowHeight,t="scrollHorizontal",i="fit",r="scrollVertical",o="fixed"):"fixed"===d.$options.gridType?(d.curColWidth=d.$options.fixedColWidth+d.$options.margin,d.curRowHeight=d.$options.fixedRowHeight+d.$options.margin,t="fixed",i="fit",r="scrollVertical",o="scrollHorizontal"):"verticalFixed"===d.$options.gridType?(d.curRowHeight=d.$options.fixedRowHeight+d.$options.margin,t="scrollVertical",i="fit",r="scrollHorizontal",o="fixed"):"horizontalFixed"===d.$options.gridType&&(d.curColWidth=d.$options.fixedColWidth+d.$options.margin,t="scrollHorizontal",i="fit",r="scrollVertical",o="fixed"),e.addClass(t),e.removeClass(i),e.removeClass(r),e.removeClass(o),d.gridLines&&d.gridLines.updateGrid();for(var n,l=d.grid.length-1;l>=0;l--)(n=d.grid[l]).setSize(!1),n.drag.toggle(),n.resize.toggle();s.$applyAsync(),setTimeout(d.resize,100)},d.addItem=function(e){void 0===e.$item.cols&&(e.$item.cols=d.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=d.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),void 0===e.$item.x||void 0===e.$item.y?d.autoPositionItem(e):d.checkCollision(e.$item)&&(d.$options.disableWarnings||r.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"])),e.$item.x=void 0,e.$item.y=void 0,d.autoPositionItem(e)),d.grid.push(e),d.calculateLayoutDebounce(),e.$item.initCallback&&e.$item.initCallback(e.item,e),d.$options.itemInitCallback&&d.$options.itemInitCallback(e.item,e)},d.removeItem=function(e){d.grid.splice(d.grid.indexOf(e),1),d.calculateLayoutDebounce(),d.$options.itemRemovedCallback&&d.$options.itemRemovedCallback(e.item,e)},d.checkCollision=function(e){return d.checkGridCollision(e)||d.findItemWithItem(e)},d.checkGridCollision=function(e){var t=e.y>-1&&e.x>-1,i=e.cols+e.x<=d.$options.maxCols,r=e.rows+e.y<=d.$options.maxRows,s=void 0===e.maxItemCols?d.$options.maxItemCols:e.maxItemCols,o=void 0===e.minItemCols?d.$options.minItemCols:e.minItemCols,n=void 0===e.maxItemRows?d.$options.maxItemRows:e.maxItemRows,l=void 0===e.minItemRows?d.$options.minItemRows:e.minItemRows,m=e.cols<=s&&e.cols>=o,a=e.rows<=n&&e.rows>=l,c=void 0===e.minItemArea?d.$options.minItemArea:e.minItemArea,u=void 0===e.maxItemArea?d.$options.maxItemArea:e.maxItemArea,g=e.cols*e.rows;return!(t&&i&&r&&m&&a&&c<=g&&u>=g)},d.findItemWithItem=function(e){for(var t,i=d.grid.length-1;i>-1;i--)if((t=d.grid[i]).$item!==e&&d.checkCollisionTwoItems(t.$item,e))return t;return!1},d.findItemsWithItem=function(e){for(var t,i=[],r=d.grid.length-1;r>-1;r--)(t=d.grid[r]).$item!==e&&d.checkCollisionTwoItems(t.$item,e)&&i.push(t);return i},d.autoPositionItem=function(e){d.getNextPossiblePosition(e.$item)?(e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,d.$options.disableWarnings||r.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))},d.getNextPossiblePosition=function(e){void 0===e.cols&&(e.cols=d.$options.defaultItemCols),void 0===e.rows&&(e.rows=d.$options.defaultItemRows),d.setGridDimensions();for(var t,i=0;i<d.rows;i++)for(e.y=i,t=0;t<d.columns;t++)if(e.x=t,!d.checkCollision(e))return!0;var r=d.$options.maxRows>=d.rows+e.rows,s=d.$options.maxCols>=d.columns+e.cols;return!(d.rows<=d.columns&&r)&&s?(e.x=d.columns,e.y=0,!0):!!r&&(e.y=d.rows,e.x=0,!0)},d.pixelsToPosition=function(e,t,i){return[d.pixelsToPositionX(e,i),d.pixelsToPositionY(t,i)]},d.pixelsToPositionX=function(e,t){return Math.max(t(e/d.curColWidth),0)},d.pixelsToPositionY=function(e,t){return Math.max(t(e/d.curRowHeight),0)},d.positionXToPixels=function(e){return e*d.curColWidth},d.positionYToPixels=function(e){return e*d.curRowHeight}}e.$inject=["$element","GridsterConfig","GridsterUtils","$log","$scope","GridsterEmptyCell","GridsterCompact"],angular.module("angular-gridster2").component("gridster",{templateUrl:"gridster2/gridster.html",controller:e,controllerAs:"GridsterCtrl",bindings:{options:"<"},transclude:!0})}(),angular.module("angular-gridster2").run(["$templateCache",function(e){e.put("gridster2/gridster.html","<gridster-grid class=gridster-grid></gridster-grid><ng-transclude></ng-transclude><gridster-preview class=gridster-preview></gridster-preview>"),e.put("gridster2/gridsterGrid.html","<div class=columns ng-style=\"{height: $ctrl.columnsHeight + 'px'}\"><div class=column ng-repeat=\"column in $ctrl.columns track by $index\" ng-style=\"{'min-width': $ctrl.width + 'px', 'margin-left': ($first && !$ctrl.gridster.$options.outerMargin ? 0 : $ctrl.margin) + 'px'}\"></div></div><div class=rows ng-style=\"{width: $ctrl.rowsWidth + 'px'}\"><div class=row ng-repeat=\"row in $ctrl.rows track by $index\" ng-style=\"{height: $ctrl.height + 'px', 'margin-top': ($first && !$ctrl.gridster.$options.outerMargin ? 0 :$ctrl.margin) + 'px'}\"></div></div>"),e.put("gridster2/gridsterItem.html",'<ng-transclude></ng-transclude><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.s || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-s ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.e || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-e ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.n || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-n ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.w || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-w ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.se || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-se ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.ne || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-ne ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.sw || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-sw ng-hide"></div><div ng-hide="!GridsterItemCtrl.gridster.$options.resizable.handles.nw || !GridsterItemCtrl.resize.resizeEnabled" class="gridster-item-resizable-handler handle-nw ng-hide"></div>')}]);